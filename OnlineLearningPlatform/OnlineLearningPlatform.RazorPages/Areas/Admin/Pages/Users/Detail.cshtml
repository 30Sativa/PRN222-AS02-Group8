@page "{id}"
@model OnlineLearningPlatform.RazorPages.Areas.Admin.Pages.Users.DetailModel
@{
    ViewData["Title"] = "Chi ti·∫øt User";
}

<div class="page-header fade-in">
    <h1>üë§ Chi ti·∫øt Ng∆∞·ªùi d√πng</h1>
    <span class="breadcrumb-text">
        <a asp-area="Admin" asp-page="/Dashboard" style="color:var(--primary);">Dashboard</a> ‚Üí
        <a asp-area="Admin" asp-page="/Users/Index" style="color:var(--primary);">Users</a> ‚Üí
        Chi ti·∫øt
    </span>
</div>

@if (Model.UserInfo == null)
{
    <div class="olp-alert olp-alert-danger">‚ö†Ô∏è Kh√¥ng t√¨m th·∫•y ng∆∞·ªùi d√πng n√†y.</div>
    <a asp-page="/Users/Index" class="btn-secondary-olp">‚Üê Quay l·∫°i</a>
}
else
{
    // Ch·ªçn avatar class theo role
    var avatarClass = Model.UserInfo.Role switch
    {
        "Admin" => "avatar-admin",
        "Teacher" => "avatar-teacher",
        _ => "avatar-student"
    };

    <!-- Profile Header -->
    <div class="profile-header fade-in">
        <div class="profile-avatar">
            @(Model.UserInfo.FullName?[0].ToString().ToUpper() ?? "U")
        </div>
        <h1>@Model.UserInfo.FullName</h1>
        <div class="profile-role">üîë @Model.UserInfo.Role</div>
    </div>

    <!-- Th√¥ng tin chi ti·∫øt -->
    <div class="olp-card fade-in">
        <div class="olp-card-header">
            <h2>üìã Th√¥ng tin chi ti·∫øt</h2>
            <a asp-page="/Users/Edit" asp-route-id="@Model.UserInfo.Id" class="btn-primary-olp btn-sm">‚úèÔ∏è Ch·ªânh s·ª≠a</a>
        </div>
        <div class="olp-card-body">
            <div class="profile-info-grid">
                <div class="profile-info-item">
                    <div class="info-icon">üìß</div>
                    <div>
                        <div class="info-label">Email</div>
                        <div class="info-value">@Model.UserInfo.Email</div>
                    </div>
                </div>
                <div class="profile-info-item">
                    <div class="info-icon">üì±</div>
                    <div>
                        <div class="info-label">S·ªë ƒëi·ªán tho·∫°i</div>
                        <div class="info-value">@(Model.UserInfo.PhoneNumber ?? "Ch∆∞a c·∫≠p nh·∫≠t")</div>
                    </div>
                </div>
                <div class="profile-info-item">
                    <div class="info-icon">üìù</div>
                    <div>
                        <div class="info-label">Gi·ªõi thi·ªáu</div>
                        <div class="info-value">@(string.IsNullOrEmpty(Model.UserInfo.Bio) ? "Ch∆∞a c√≥" : Model.UserInfo.Bio)</div>
                    </div>
                </div>
                <div class="profile-info-item">
                    <div class="info-icon">üìÖ</div>
                    <div>
                        <div class="info-label">Ng√†y t·∫°o t√†i kho·∫£n</div>
                        <div class="info-value">@Model.UserInfo.CreatedAt.ToString("dd/MM/yyyy HH:mm")</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-2">
        <a asp-page="/Users/Index" class="btn-secondary-olp">‚Üê Quay l·∫°i danh s√°ch</a>
    </div>
}
