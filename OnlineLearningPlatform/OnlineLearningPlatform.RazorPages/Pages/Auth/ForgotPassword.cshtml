@page
@model OnlineLearningPlatform.RazorPages.Pages.Auth.ForgotPasswordModel
@{
    ViewData["Title"] = "Quên mật khẩu";
    Layout = "_Layout";
}

<div class="auth-screen">
    <div class="auth-card fade-up">
        <div class="auth-logo">
            <div class="logo-mark">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                    <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                </svg>
            </div>
            <h1>Quên mật khẩu</h1>
            <p>Nhập email để nhận link đặt lại mật khẩu</p>
        </div>

        @if (Model.IsSuccess)
        {
            <div class="alert alert-success mb-4" role="alert">
                <div style="display: flex; align-items: flex-start; gap: var(--space-3);">
                    <i class="bi bi-check-circle-fill" style="font-size: 1.2rem; flex-shrink: 0;"></i>
                    <div>
                        <strong style="display: block; margin-bottom: var(--space-1);">Email đã được gửi thành công!</strong>
                        <span>Nếu email <strong>@Model.Email</strong> tồn tại trong hệ thống, bạn sẽ nhận được link đặt lại mật khẩu. Vui lòng kiểm tra hộp thư đến và thư mục spam.</span>
                    </div>
                </div>
            </div>

            <div class="text-center">
                <a asp-page="/Auth/Login" class="btn btn-primary" style="width:100%; padding: 12px; font-size: 15px;">
                    <i class="bi bi-box-arrow-in-right"></i> Quay lại đăng nhập
                </a>
            </div>
        }
        else
        {
            @if (!ViewData.ModelState.IsValid)
            {
                <div class="alert alert-danger mb-4" asp-validation-summary="All"></div>
            }

            <form method="post">
                <div class="form-group">
                    <label asp-for="Email">Email</label>
                    <input asp-for="Email" class="form-control" type="email"
                           placeholder="you@example.com" autocomplete="email" />
                    <span asp-validation-for="Email" class="form-error"></span>
                </div>

                <button type="submit" class="btn btn-primary" style="width:100%; padding: 12px; font-size: 15px; margin-top: 8px;">
                    Gửi link đặt lại mật khẩu
                </button>
            </form>

            <div class="auth-footer">
                <a asp-page="/Auth/Login">Quay lại đăng nhập</a>
            </div>
        }
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}